<div class="d-flex h-100">
  <app-project-nav></app-project-nav>

  <div class="listList">
    <div *ngFor="let list of GetUsersListsFromStore()" (click)="GetList(list.id)">
      <div class="d-flex flex-column listItem" [class.activeList]="currentListId == list.id">
        <div>{{list.name}}</div>
        <div>{{list.description}}</div>
      </div>
    </div>
  </div>

  <div class="d-flex flex-column flex-grow-1">
    <div style="padding: 0.1rem 1rem;background: #ffebee;">Jobs with deadline</div>

    <div class="listJobItem" *ngFor="let job of GetDeadlineJobs()" (click)="SelectJob(job)">
      <div class="d-flex flex-column">
        <div class="d-flex flex-row align-items-center">
          <div [style.background]="tenantService.GetJobStatus(job).colour" class="blip mr-1"></div>
          <div [style.background]="tenantService.GetJobType(job).colour" class="blip mr-1"></div>
          <div [style.background]="tenantService.GetJobPriority(job).colour" class="blip mr-1"></div>
          <div class="mx-1">{{job.title}}</div>
          <div class="mat-caption">{{job.deadline | date:'short'}}</div>
        </div>
      </div>
    </div>

    <div style="padding: 0.1rem 1rem;background: #f3e5f5;">Jobs</div>

    <div class="listJobItem" *ngFor="let job of GetJobs()" (click)="SelectJob(job)">
      <div class="d-flex flex-column">
        <div class="d-flex flex-row align-items-center">
          <div [style.background]="tenantService.GetJobStatus(job).colour" class="blip mr-1"></div>
          <div [style.background]="tenantService.GetJobType(job).colour" class="blip mr-1"></div>
          <div [style.background]="tenantService.GetJobPriority(job).colour" class="blip mr-1"></div>
          <div class="mx-1">{{job.title}}</div>
        </div>
      </div>
    </div>
  </div>

  <job-preview class="JobPreview" *ngIf="selectedJob" [Job]="selectedJob" ></job-preview>

</div>
