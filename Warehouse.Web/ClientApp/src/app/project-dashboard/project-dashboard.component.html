<div class="d-flex h-100">
  <app-project-nav></app-project-nav>
  <div class="w-100 d-flex flex-column" style="max-height: 100vh;">
    <div class="w-100" style="height: 10px" [style.background-color]="GetProjectFromStore().accent"></div>
    <div class="d-flex p-3 flex-row justify-content-between" id="projectDetails">
      <div class="d-flex flex-row">
        <img id="projectAvatar" width="60px" height="60px" [src]="GetProjectFromStore().avatar">
        <div class="d-flex flex-column mx-3">
          <div id="projectName">{{GetProjectFromStore().name}} <span class="greyText">{{GetProjectFromStore().short}}</span></div>
          <div id="projectDescription">{{GetProjectFromStore().description}}</div>
        </div>
      </div>

      <div class="d-flex flex-row">
        <div id="addUser" (click)="AddUser()"></div>
        <avatar [User]="user" *ngFor="let user of GetProjectColleagues()"></avatar>
      </div>
    </div>

    <div class="d-flex flex-row justify-content-around flex-grow-1 overflow-auto">


      <div id="projectGrid">
        <div style="border-right: #ECECEC solid 1px;border-bottom: #ECECEC solid 1px;" class="overflow-auto">
          <div class="projectTitleBox">
            <div class="projectTitle">Lists</div>
            <button mat-icon-button (click)="NewList()">
              <mat-icon>add_box</mat-icon>
            </button>
          </div>
          <div *ngFor="let list of GetListsForProject()" class="projectList">
            <div class="projectList-title">{{list.name}}</div>
            <div class="project-description">{{list.description | truncate}}</div>
          </div>
        </div>

        <div style="border-bottom: #ECECEC solid 1px;" class="overflow-auto">
          <div class="projectTitleBox">
            <div class="projectTitle">Events</div>
            <button mat-icon-button>
              <mat-icon>add_box</mat-icon>
            </button>
          </div>
          <div *ngFor="let event of GetProjectFromStore().events" class="projectEvent">
            <div>{{event.name}}</div>
            <div class="project-description">{{event.time | date:'longDate'}}</div>
          </div>
        </div>

        <div style="border-right: #ECECEC solid 1px;" class="overflow-auto">
          <div class="projectTitleBox">
            <div class="projectTitle">Jobs</div>
            <button mat-icon-button>
              <mat-icon>add_box</mat-icon>
            </button>
          </div>
          <div *ngFor="let job of GetJobsForProject()" class="projectJobs">
            <div class="d-flex flex-row align-items-center">
              <div [style.background]="job.jobStatus?.colour" class="blip mr-1"></div>
              <div [style.background]="job.jobType?.colour" class="blip mr-1"></div>
              <div [style.background]="job.jobPriority?.colour" class="blip mr-1"></div>
              <div class="mx-1">{{job.title}}</div>
            </div>
            <div class="project-description">{{job.description | truncate}}</div>
            <div class="project-link">{{job.link}}</div>
          </div>
        </div>

        <div class="overflow-auto">
          <div class="projectTitleBox">
            <div class="projectTitle">Rooms</div>
            <button mat-icon-button>
              <mat-icon>add_box</mat-icon>
            </button>
          </div>
          <div *ngFor="let room of GetProjectFromStore().rooms" class="projectRoom">
            <div>{{room.name}}</div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>


