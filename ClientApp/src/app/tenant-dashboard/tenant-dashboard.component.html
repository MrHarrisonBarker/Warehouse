<div class="d-flex h-100">

  <tenant-nav></tenant-nav>

  <div class="w-100 d-flex flex-column" style="max-height: 100vh;">
    <div class="d-flex p-3 flex-row justify-content-between" id="tenantDetails">
      <div class="d-flex flex-row">
        <img id="tenantAvatar" width="60px" height="60px" [src]="tenantService.Tenant.avatar">
        <div class="d-flex flex-column mx-3">
          <div id="tenantName">{{tenantService.Tenant.name}}</div>
          <div id="tenantDescription">{{tenantService.Tenant.description}}</div>
        </div>
      </div>

      <!--    <div class="d-flex flex-row">-->
      <!--      <div id="addUser" (click)="AddUser()"></div>-->
      <!--      <avatar [User]="user" *ngFor="let user of GetProjectColleagues()"></avatar>-->
      <!--    </div>-->
    </div>

    <div id="tenantGrid">
      <div class="d-flex flex-column justify-content-between" style="border-bottom: #ECECEC solid 1px;">
        <div>
          <div class="project-inline" *ngFor="let project of projectService.GetStoredProjects()" (click)="GoToProject(project.id)">
            <div class="d-flex flex-row align-items-center">
              <div [style.background]="project.accent" class="blip mr-1"></div>
              <div class="mr-3">{{project.name}}</div>
              <div class="greyText font-italic">{{project.description}}</div>
            </div>
            <div class="d-flex flex-row"><img class="mr-1" *ngFor="let user of project.employments" width="30px" height="30px" style="border-radius: 25%" [src]="GetUserAvatar(user.userId)"></div>
          </div>
        </div>
        <div class="user-inline mr-1" (click)="NewProject()">
          <mat-icon>add_box</mat-icon>
          New project
        </div>
      </div>

      <div class="d-flex flex-column justify-content-between">
        <div>
          <div class="user-inline" *ngFor="let user of tenantService.Tenant.employments" [matMenuTriggerFor]="menu">
            <img class="mr-1" width="30px" height="30px" style="border-radius: 25%" [src]="user.avatar">
            <div>{{user.displayName}}</div>

            <mat-menu #menu="matMenu">
              <div class="d-flex flex-column align-items-center p-3">
                <img width="60px" height="60px" style="border-radius: 25%" [src]="user.avatar">
                <div>{{user.displayName}}</div>
              </div>
            </mat-menu>
          </div>


        </div>
        <div class="user-inline mr-1" (click)="AddUser()">
          <mat-icon>add_box</mat-icon>
          Add/Invite user
        </div>
      </div>
    </div>
  </div>

  <!--  <div class="container-fluid">-->
  <!--    <div class="mat-headline"></div>-->
  <!--    <div class="mat-title">Projects</div>-->
  <!--    <div class="d-flex">-->
  <!--      <mat-card class="project-card" *ngFor="let project of projectService.GetStoredProjects()" [style.border-left]="'solid' + project.accent">-->
  <!--        <mat-card-header>-->
  <!--          <div mat-card-avatar class="project-header-image"><img width="40px" [src]="project.avatar"></div>-->
  <!--          <mat-card-title>{{project.name}}</mat-card-title>-->
  <!--        </mat-card-header>-->
  <!--        <mat-card-content>-->
  <!--          <p>{{project.description}}</p>-->
  <!--        </mat-card-content>-->
  <!--        <mat-card-actions>-->
  <!--          <button (click)="GoToProject(project.id)" mat-button>Go-->
  <!--            <mat-icon>forward</mat-icon>-->
  <!--          </button>-->
  <!--        </mat-card-actions>-->
  <!--      </mat-card>-->
  <!--      <button mat-raised-button (click)="NewProject()" class="project-card"><mat-icon>add</mat-icon></button>-->
  <!--    </div>-->

  <!--    <div class="mat-title">Colleagues</div>-->
  <!--    <div class="d-flex"><avatar *ngFor="let user of tenantService.Tenant.employments" [User]="user" class="mr-1"></avatar></div>-->

  <!--  </div>-->
</div>
